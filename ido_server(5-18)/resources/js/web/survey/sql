랭킹형
SELECT SURVEY_CONTENTS_ID, COUNT(*) AS COUNT FROM SURVEY_ANSWER_TB WHERE SURVEY_ID=? AND SURVEY_TYPE_ID=? AND SURVEY_TYPE=1 AND ANSWER =1 GROUP BY SURVEY_CONTENTS_ID
(DB연습용(랭킹))
SELECT t1.SURVEY_CONTENTS_ID, t2.SURVEY_IMAGE_PATH, t3.SECOND_SURVEY_TITLE , COUNT(*) AS COUNT FROM SURVEY_ANSWER_TB as t1 left join SURVEY_CONTENTS_TB as t2 on t1.survey_contents_id = t2.survey_contents_id left join SURVEY_TYPE_TB as t3 on t1.SURVEY_TYPE_ID = t3.SURVEY_TYPE_ID WHERE t1.SURVEY_ID=41 AND t1.SURVEY_TYPE_ID=36 AND t1.SURVEY_TYPE=1 AND t1.ANSWER =1 GROUP BY t1.SURVEY_CONTENTS_ID ORDER BY COUNT DESC LIMIT 1;

선택형
SELECT SURVEY_CONTENTS_ID, COUNT(*) AS COUNT FROM SURVEY_ANSWER_TB WHERE SURVEY_ID=? AND SURVEY_TYPE_ID=? AND SURVEY_TYPE=4 GROUP BY SURVEY_CONTENTS_ID
(DB연습용(선택))
SELECT t1.SURVEY_CONTENTS_ID, t2.SURVEY_IMAGE_PATH, t3.SECOND_SURVEY_TITLE, COUNT(*) AS COUNT FROM SURVEY_ANSWER_TB as t1 left join SURVEY_CONTENTS_TB as t2 on t1.survey_contents_id = t2.survey_contents_id left join SURVEY_TYPE_TB as t3 on t1.SURVEY_TYPE_ID = t3.SURVEY_TYPE_ID WHERE t1.SURVEY_ID=47 AND t1.SURVEY_TYPE_ID=50 AND t1.SURVEY_TYPE=4 GROUP BY t1.SURVEY_CONTENTS_ID



조인랭킹형
SELECT t1.SURVEY_CONTENTS_ID, t2.SURVEY_IMAGE_PATH, COUNT(*) AS COUNT FROM SURVEY_ANSWER_TB as t1 left join SURVEY_CONTENTS_TB as t2 on t1.survey_contents_id = t2.survey_contents_id WHERE t1.SURVEY_ID=47 AND t1.SURVEY_TYPE_ID=49 AND t1.SURVEY_TYPE=1 AND t1.ANSWER =1 GROUP BY t1.SURVEY_CONTENTS_ID;


중질문까지 뽑아옴.
SELECT t1.SURVEY_CONTENTS_ID, t2.SURVEY_IMAGE_PATH, t3.SECOND_SURVEY_TITLE , COUNT(*) AS COUNT FROM SURVEY_ANSWER_TB as t1 left join SURVEY_CONTENTS_TB as t2 on t1.survey_contents_id = t2.survey_contents_id left join SURVEY_TYPE_TB as t3 on t1.SURVEY_TYPE_ID = t3.SURVEY_TYPE_ID WHERE t1.SURVEY_ID=41 AND t1.SURVEY_TYPE_ID=36 AND t1.SURVEY_TYPE=1 AND t1.ANSWER =1 GROUP BY t1.SURVEY_CONTENTS_ID;



